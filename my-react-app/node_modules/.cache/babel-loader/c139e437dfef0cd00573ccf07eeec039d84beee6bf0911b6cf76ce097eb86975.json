{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Materii ASE\\\\Lucrare de licenta\\\\SoftwareProduct\\\\my-react-app\\\\src\\\\components\\\\AssetsList.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { fetchServer } from '../api_s/fetchServer';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { setAssets, setLastUpdate, setError } from '../store/slices/slice';\nimport Table from './layout/Table';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction AssetsList() {\n  _s();\n  const collection = useSelector(state => state.global.collection);\n  const assets = useSelector(state => state.global.assets);\n  const error = useSelector(state => state.global.error);\n  const dispatch = useDispatch();\n  //eg.: dispatch(setCollection('stocks'))\n  useEffect(() => {\n    fetchServer(collection).then(el => {\n      if (el.data) {\n        dispatch(setAssets(el.data));\n        dispatch(setLastUpdate(el.timestamp));\n        dispatch(setError(null));\n      } else {\n        dispatch(setLastUpdate(null));\n        dispatch(setAssets(null));\n        dispatch(setError(el));\n      }\n    }).catch(err => console.error(err));\n  }, [collection]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: !error ? /*#__PURE__*/_jsxDEV(Table, {\n      assets: assets,\n      watchlist: false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: \"//TODO\"\n    }, void 0, false)\n  }, void 0, false);\n}\n_s(AssetsList, \"lFLMYkJdAdHdV63nrJHGtSuh0iY=\", false, function () {\n  return [useSelector, useSelector, useSelector, useDispatch];\n});\n_c = AssetsList;\nexport default AssetsList;\nvar _c;\n$RefreshReg$(_c, \"AssetsList\");","map":{"version":3,"names":["useEffect","useState","fetchServer","useSelector","useDispatch","setAssets","setLastUpdate","setError","Table","jsxDEV","_jsxDEV","Fragment","_Fragment","AssetsList","_s","collection","state","global","assets","error","dispatch","then","el","data","timestamp","catch","err","console","children","watchlist","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/User/Materii ASE/Lucrare de licenta/SoftwareProduct/my-react-app/src/components/AssetsList.js"],"sourcesContent":["import { useEffect, useState } from 'react'\r\nimport {fetchServer} from '../api_s/fetchServer'\r\nimport {useSelector ,useDispatch} from 'react-redux'\r\nimport {setAssets,setLastUpdate,setError } from '../store/slices/slice'\r\nimport Table from './layout/Table'\r\n\r\nfunction AssetsList(){\r\n    const collection=useSelector(state=>state.global.collection)\r\n    const assets=useSelector(state=>state.global.assets)\r\n    const error=useSelector(state=>state.global.error)\r\n\r\n    const dispatch=useDispatch()\r\n    //eg.: dispatch(setCollection('stocks'))\r\n    useEffect(()=>{\r\n        fetchServer(collection).then(el=>{\r\n            if(el.data){\r\n                dispatch(setAssets(el.data))\r\n                dispatch(setLastUpdate(el.timestamp))\r\n                dispatch(setError(null))\r\n            }\r\n            else{\r\n                dispatch(setLastUpdate(null))\r\n                dispatch(setAssets(null))\r\n                dispatch(setError(el))\r\n            }\r\n        }).catch(err=>console.error(err))\r\n        \r\n    },[collection])\r\n    return(\r\n        <>\r\n            {!error \r\n                ?\r\n                <Table assets={assets} watchlist={false}/>\r\n                :\r\n                <>\r\n                    //TODO\r\n                </>\r\n            }\r\n        </>\r\n    )\r\n}\r\nexport default AssetsList"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAAQC,WAAW,QAAO,sBAAsB;AAChD,SAAQC,WAAW,EAAEC,WAAW,QAAO,aAAa;AACpD,SAAQC,SAAS,EAACC,aAAa,EAACC,QAAQ,QAAQ,uBAAuB;AACvE,OAAOC,KAAK,MAAM,gBAAgB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAElC,SAASC,UAAUA,CAAA,EAAE;EAAAC,EAAA;EACjB,MAAMC,UAAU,GAACZ,WAAW,CAACa,KAAK,IAAEA,KAAK,CAACC,MAAM,CAACF,UAAU,CAAC;EAC5D,MAAMG,MAAM,GAACf,WAAW,CAACa,KAAK,IAAEA,KAAK,CAACC,MAAM,CAACC,MAAM,CAAC;EACpD,MAAMC,KAAK,GAAChB,WAAW,CAACa,KAAK,IAAEA,KAAK,CAACC,MAAM,CAACE,KAAK,CAAC;EAElD,MAAMC,QAAQ,GAAChB,WAAW,CAAC,CAAC;EAC5B;EACAJ,SAAS,CAAC,MAAI;IACVE,WAAW,CAACa,UAAU,CAAC,CAACM,IAAI,CAACC,EAAE,IAAE;MAC7B,IAAGA,EAAE,CAACC,IAAI,EAAC;QACPH,QAAQ,CAACf,SAAS,CAACiB,EAAE,CAACC,IAAI,CAAC,CAAC;QAC5BH,QAAQ,CAACd,aAAa,CAACgB,EAAE,CAACE,SAAS,CAAC,CAAC;QACrCJ,QAAQ,CAACb,QAAQ,CAAC,IAAI,CAAC,CAAC;MAC5B,CAAC,MACG;QACAa,QAAQ,CAACd,aAAa,CAAC,IAAI,CAAC,CAAC;QAC7Bc,QAAQ,CAACf,SAAS,CAAC,IAAI,CAAC,CAAC;QACzBe,QAAQ,CAACb,QAAQ,CAACe,EAAE,CAAC,CAAC;MAC1B;IACJ,CAAC,CAAC,CAACG,KAAK,CAACC,GAAG,IAAEC,OAAO,CAACR,KAAK,CAACO,GAAG,CAAC,CAAC;EAErC,CAAC,EAAC,CAACX,UAAU,CAAC,CAAC;EACf,oBACIL,OAAA,CAAAE,SAAA;IAAAgB,QAAA,EACK,CAACT,KAAK,gBAEHT,OAAA,CAACF,KAAK;MAACU,MAAM,EAAEA,MAAO;MAACW,SAAS,EAAE;IAAM;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,gBAE1CvB,OAAA,CAAAE,SAAA;MAAAgB,QAAA,EAAE;IAEF,gBAAE;EAAC,gBAET,CAAC;AAEX;AAACd,EAAA,CAlCQD,UAAU;EAAA,QACEV,WAAW,EACfA,WAAW,EACZA,WAAW,EAERC,WAAW;AAAA;AAAA8B,EAAA,GALrBrB,UAAU;AAmCnB,eAAeA,UAAU;AAAA,IAAAqB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}