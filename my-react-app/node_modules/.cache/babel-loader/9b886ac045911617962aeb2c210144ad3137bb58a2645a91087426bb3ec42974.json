{"ast":null,"code":"async function fetchCommodities() {\n  try {\n    const symbols = ['WTI', 'NATURAL_GAS', 'COPPER', 'ALUMINUM', 'WHEAT', 'CORN', 'COTTON', 'SUGAR', 'COFFEE'];\n    const array = ['NG', 'HG', 'AL', 'ZW', 'ZC', 'CT', 'SB', 'KC'];\n    const key = process.env.REACT_APP_ALPHA_VANTAGE_API_KEY;\n    const commodities = [];\n    for (let symbol of symbols) {\n      const response = await fetch(`https://www.alphavantage.co/query?function=${symbol}&interval=monthly&apikey=${key}`);\n      const result = await response.json();\n      if (symbol == 'WTI') {\n        commodities.push({\n          \"name\": \"CRUDE OIL\",\n          'symbol': symbol,\n          'current_price': result.data[0].value,\n          'price_change_percentage_1month': Number(result.data[0].value / result.data[1].value - 1).toFixed(2),\n          'last_update': result.data[0].date\n        });\n      } else if (symbol == 'NATURAL_GAS') {\n        commodities.push({\n          \"name\": \"NATURAL GAS\",\n          'symbol': array[symbols.indexOf(symbol) - 1],\n          'current_price': result.data[0].value,\n          'price_change_percentage_1month': Number(result.data[0].value / result.data[1].value - 1).toFixed(2),\n          'last_update': result.data[0].date\n        });\n      } else {\n        commodities.push({\n          \"name\": symbol,\n          'symbol': array[symbols.indexOf(symbol) - 1],\n          'current_price': result.data[0].value,\n          'price_change_percentage_1month': result.data[0].value / result.data[1].value - 1,\n          'last_update': result.data[0].date\n        });\n      }\n    }\n    console.log(commodities);\n    return commodities;\n  } catch (error) {\n    console.error(error);\n  }\n}\nexport { fetchCommodities };\n\n//Alpha Vantage\n//25 requests per day.\n\n//Pt GCUSD (path):\n//https://financialmodelingprep.com/api/v3/quote/GCUSD?apikey=d1ee0149690da6b709c1bc7be80cc7c9\n//vezi available-commodities.txt pt restul simbolulilor disponibile\n//vezi GCUSD.txt pt raspunsul la path-ul de mai sus","map":{"version":3,"names":["fetchCommodities","symbols","array","key","process","env","REACT_APP_ALPHA_VANTAGE_API_KEY","commodities","symbol","response","fetch","result","json","push","data","value","Number","toFixed","date","indexOf","console","log","error"],"sources":["C:/Users/User/Materii ASE/Lucrare de licenta/SoftwareProduct/my-react-app/src/api_s/fetchCommodities.js"],"sourcesContent":["async function fetchCommodities(){\r\n    try {\r\n       const symbols=['WTI','NATURAL_GAS','COPPER','ALUMINUM','WHEAT','CORN','COTTON','SUGAR','COFFEE']\r\n       const array=['NG', 'HG', 'AL', 'ZW', 'ZC', 'CT', 'SB', 'KC']\r\n       const key=process.env.REACT_APP_ALPHA_VANTAGE_API_KEY\r\n       const commodities=[]\r\n       for(let symbol of symbols){\r\n            const response=await fetch(`https://www.alphavantage.co/query?function=${symbol}&interval=monthly&apikey=${key}`)\r\n            const result=await response.json()\r\n            if(symbol=='WTI'){\r\n                commodities.push({\"name\":\"CRUDE OIL\",'symbol':symbol,'current_price':result.data[0].value,'price_change_percentage_1month':Number((result.data[0].value/result.data[1].value)-1).toFixed(2),'last_update':result.data[0].date})\r\n            }\r\n            else if(symbol=='NATURAL_GAS'){\r\n                commodities.push({\"name\":\"NATURAL GAS\",'symbol':array[symbols.indexOf(symbol)-1],'current_price':result.data[0].value,'price_change_percentage_1month':Number((result.data[0].value/result.data[1].value)-1).toFixed(2),'last_update':result.data[0].date})\r\n            }\r\n            else{\r\n                commodities.push({\"name\":symbol,'symbol':array[symbols.indexOf(symbol)-1],'current_price':result.data[0].value,'price_change_percentage_1month':(result.data[0].value/result.data[1].value)-1,'last_update':result.data[0].date})\r\n            }\r\n        }\r\n        console.log(commodities)\r\n        return commodities\r\n    } \r\n    catch (error) {\r\n        console.error(error)\r\n    }\r\n}\r\nexport {fetchCommodities}\r\n\r\n//Alpha Vantage\r\n//25 requests per day.\r\n\r\n//Pt GCUSD (path):\r\n//https://financialmodelingprep.com/api/v3/quote/GCUSD?apikey=d1ee0149690da6b709c1bc7be80cc7c9\r\n//vezi available-commodities.txt pt restul simbolulilor disponibile\r\n//vezi GCUSD.txt pt raspunsul la path-ul de mai sus \r\n"],"mappings":"AAAA,eAAeA,gBAAgBA,CAAA,EAAE;EAC7B,IAAI;IACD,MAAMC,OAAO,GAAC,CAAC,KAAK,EAAC,aAAa,EAAC,QAAQ,EAAC,UAAU,EAAC,OAAO,EAAC,MAAM,EAAC,QAAQ,EAAC,OAAO,EAAC,QAAQ,CAAC;IAChG,MAAMC,KAAK,GAAC,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;IAC5D,MAAMC,GAAG,GAACC,OAAO,CAACC,GAAG,CAACC,+BAA+B;IACrD,MAAMC,WAAW,GAAC,EAAE;IACpB,KAAI,IAAIC,MAAM,IAAIP,OAAO,EAAC;MACrB,MAAMQ,QAAQ,GAAC,MAAMC,KAAK,CAAE,8CAA6CF,MAAO,4BAA2BL,GAAI,EAAC,CAAC;MACjH,MAAMQ,MAAM,GAAC,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;MAClC,IAAGJ,MAAM,IAAE,KAAK,EAAC;QACbD,WAAW,CAACM,IAAI,CAAC;UAAC,MAAM,EAAC,WAAW;UAAC,QAAQ,EAACL,MAAM;UAAC,eAAe,EAACG,MAAM,CAACG,IAAI,CAAC,CAAC,CAAC,CAACC,KAAK;UAAC,gCAAgC,EAACC,MAAM,CAAEL,MAAM,CAACG,IAAI,CAAC,CAAC,CAAC,CAACC,KAAK,GAACJ,MAAM,CAACG,IAAI,CAAC,CAAC,CAAC,CAACC,KAAK,GAAE,CAAC,CAAC,CAACE,OAAO,CAAC,CAAC,CAAC;UAAC,aAAa,EAACN,MAAM,CAACG,IAAI,CAAC,CAAC,CAAC,CAACI;QAAI,CAAC,CAAC;MACnO,CAAC,MACI,IAAGV,MAAM,IAAE,aAAa,EAAC;QAC1BD,WAAW,CAACM,IAAI,CAAC;UAAC,MAAM,EAAC,aAAa;UAAC,QAAQ,EAACX,KAAK,CAACD,OAAO,CAACkB,OAAO,CAACX,MAAM,CAAC,GAAC,CAAC,CAAC;UAAC,eAAe,EAACG,MAAM,CAACG,IAAI,CAAC,CAAC,CAAC,CAACC,KAAK;UAAC,gCAAgC,EAACC,MAAM,CAAEL,MAAM,CAACG,IAAI,CAAC,CAAC,CAAC,CAACC,KAAK,GAACJ,MAAM,CAACG,IAAI,CAAC,CAAC,CAAC,CAACC,KAAK,GAAE,CAAC,CAAC,CAACE,OAAO,CAAC,CAAC,CAAC;UAAC,aAAa,EAACN,MAAM,CAACG,IAAI,CAAC,CAAC,CAAC,CAACI;QAAI,CAAC,CAAC;MAC/P,CAAC,MACG;QACAX,WAAW,CAACM,IAAI,CAAC;UAAC,MAAM,EAACL,MAAM;UAAC,QAAQ,EAACN,KAAK,CAACD,OAAO,CAACkB,OAAO,CAACX,MAAM,CAAC,GAAC,CAAC,CAAC;UAAC,eAAe,EAACG,MAAM,CAACG,IAAI,CAAC,CAAC,CAAC,CAACC,KAAK;UAAC,gCAAgC,EAAEJ,MAAM,CAACG,IAAI,CAAC,CAAC,CAAC,CAACC,KAAK,GAACJ,MAAM,CAACG,IAAI,CAAC,CAAC,CAAC,CAACC,KAAK,GAAE,CAAC;UAAC,aAAa,EAACJ,MAAM,CAACG,IAAI,CAAC,CAAC,CAAC,CAACI;QAAI,CAAC,CAAC;MACrO;IACJ;IACAE,OAAO,CAACC,GAAG,CAACd,WAAW,CAAC;IACxB,OAAOA,WAAW;EACtB,CAAC,CACD,OAAOe,KAAK,EAAE;IACVF,OAAO,CAACE,KAAK,CAACA,KAAK,CAAC;EACxB;AACJ;AACA,SAAQtB,gBAAgB;;AAExB;AACA;;AAEA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}