{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Materii ASE\\\\Lucrare de licenta\\\\SoftwareProduct\\\\my-react-app\\\\src\\\\components\\\\AssetsList.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { fetchServer } from '../api_s/fetchServer';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { setAssets, setLastUpdate, setError } from '../store/slices/slice';\nimport Table from './layout/Table';\nimport ClipLoader from 'react-spinners/ClipLoader';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction AssetsList() {\n  _s();\n  const collection = useSelector(state => state.global.collection);\n  const error = useSelector(state => state.global.error);\n  const [loading, setLoading] = useState(false);\n  const dispatch = useDispatch();\n  //eg.: dispatch(setCollection('stocks'))\n  useEffect(() => {\n    setLoading(true);\n    fetchServer(collection).then(el => {\n      dispatch(setAssets(el.data));\n      dispatch(setLastUpdate(el.timestamp));\n      dispatch(setError(null));\n      setLoading(false);\n    }).catch(err => {\n      console.error(err);\n      setError(err.message);\n    });\n  }, [collection]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: !error ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: !loading ? /*#__PURE__*/_jsxDEV(Table, {\n        watchlist: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(ClipLoader, {\n        color: \"#0ea5e9\",\n        loading: loading,\n        size: 150\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 21\n      }, this)\n    }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: \"//TODO\"\n    }, void 0, false)\n  }, void 0, false);\n}\n_s(AssetsList, \"Ai+eMfjXRzZ5mY0yvm+gmBXyRiU=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n_c = AssetsList;\nexport default AssetsList;\nvar _c;\n$RefreshReg$(_c, \"AssetsList\");","map":{"version":3,"names":["useEffect","useState","fetchServer","useSelector","useDispatch","setAssets","setLastUpdate","setError","Table","ClipLoader","jsxDEV","_jsxDEV","Fragment","_Fragment","AssetsList","_s","collection","state","global","error","loading","setLoading","dispatch","then","el","data","timestamp","catch","err","console","message","children","watchlist","fileName","_jsxFileName","lineNumber","columnNumber","color","size","_c","$RefreshReg$"],"sources":["C:/Users/User/Materii ASE/Lucrare de licenta/SoftwareProduct/my-react-app/src/components/AssetsList.js"],"sourcesContent":["import { useEffect, useState } from 'react'\r\nimport {fetchServer} from '../api_s/fetchServer'\r\nimport {useSelector ,useDispatch} from 'react-redux'\r\nimport {setAssets,setLastUpdate,setError } from '../store/slices/slice'\r\nimport Table from './layout/Table'\r\nimport ClipLoader from 'react-spinners/ClipLoader'\r\n\r\nfunction AssetsList(){\r\n    const collection=useSelector(state=>state.global.collection)\r\n    const error=useSelector(state=>state.global.error)\r\n    const [loading,setLoading] =useState(false)\r\n\r\n    const dispatch=useDispatch()\r\n    //eg.: dispatch(setCollection('stocks'))\r\n    useEffect(()=>{\r\n        setLoading(true)\r\n        fetchServer(collection).then(el=>{\r\n            dispatch(setAssets(el.data))\r\n            dispatch(setLastUpdate(el.timestamp))\r\n            dispatch(setError(null))\r\n            setLoading(false)\r\n        }).catch(err=>{\r\n            console.error(err)\r\n            setError(err.message)\r\n        })\r\n    },[collection])\r\n    return(\r\n        <>\r\n            {!error \r\n                ?\r\n                <>\r\n                {!loading ?\r\n                    <Table watchlist={false}/> \r\n                        :\r\n                    <ClipLoader color='#0ea5e9' loading={loading} size={150}/>\r\n                }\r\n                </>\r\n                :\r\n                <>\r\n                    //TODO\r\n                </>\r\n            }\r\n        </>\r\n    )\r\n}\r\nexport default AssetsList"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAAQC,WAAW,QAAO,sBAAsB;AAChD,SAAQC,WAAW,EAAEC,WAAW,QAAO,aAAa;AACpD,SAAQC,SAAS,EAACC,aAAa,EAACC,QAAQ,QAAQ,uBAAuB;AACvE,OAAOC,KAAK,MAAM,gBAAgB;AAClC,OAAOC,UAAU,MAAM,2BAA2B;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAElD,SAASC,UAAUA,CAAA,EAAE;EAAAC,EAAA;EACjB,MAAMC,UAAU,GAACb,WAAW,CAACc,KAAK,IAAEA,KAAK,CAACC,MAAM,CAACF,UAAU,CAAC;EAC5D,MAAMG,KAAK,GAAChB,WAAW,CAACc,KAAK,IAAEA,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC;EAClD,MAAM,CAACC,OAAO,EAACC,UAAU,CAAC,GAAEpB,QAAQ,CAAC,KAAK,CAAC;EAE3C,MAAMqB,QAAQ,GAAClB,WAAW,CAAC,CAAC;EAC5B;EACAJ,SAAS,CAAC,MAAI;IACVqB,UAAU,CAAC,IAAI,CAAC;IAChBnB,WAAW,CAACc,UAAU,CAAC,CAACO,IAAI,CAACC,EAAE,IAAE;MAC7BF,QAAQ,CAACjB,SAAS,CAACmB,EAAE,CAACC,IAAI,CAAC,CAAC;MAC5BH,QAAQ,CAAChB,aAAa,CAACkB,EAAE,CAACE,SAAS,CAAC,CAAC;MACrCJ,QAAQ,CAACf,QAAQ,CAAC,IAAI,CAAC,CAAC;MACxBc,UAAU,CAAC,KAAK,CAAC;IACrB,CAAC,CAAC,CAACM,KAAK,CAACC,GAAG,IAAE;MACVC,OAAO,CAACV,KAAK,CAACS,GAAG,CAAC;MAClBrB,QAAQ,CAACqB,GAAG,CAACE,OAAO,CAAC;IACzB,CAAC,CAAC;EACN,CAAC,EAAC,CAACd,UAAU,CAAC,CAAC;EACf,oBACIL,OAAA,CAAAE,SAAA;IAAAkB,QAAA,EACK,CAACZ,KAAK,gBAEHR,OAAA,CAAAE,SAAA;MAAAkB,QAAA,EACC,CAACX,OAAO,gBACLT,OAAA,CAACH,KAAK;QAACwB,SAAS,EAAE;MAAM;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC,CAAC,gBAE1BzB,OAAA,CAACF,UAAU;QAAC4B,KAAK,EAAC,SAAS;QAACjB,OAAO,EAAEA,OAAQ;QAACkB,IAAI,EAAE;MAAI;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC;IAAC,gBAE5D,CAAC,gBAEHzB,OAAA,CAAAE,SAAA;MAAAkB,QAAA,EAAE;IAEF,gBAAE;EAAC,gBAET,CAAC;AAEX;AAAChB,EAAA,CArCQD,UAAU;EAAA,QACEX,WAAW,EAChBA,WAAW,EAGRC,WAAW;AAAA;AAAAmC,EAAA,GALrBzB,UAAU;AAsCnB,eAAeA,UAAU;AAAA,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}